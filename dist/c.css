/*

	Copyright © 2019–2020, Stewart Smith. See LICENSE for details.

*/
@charset "utf-8";




/*

	This file is in the process of being separated
	in to “essential global Q.js styles” which will
	remain here in Q.css, and “documentation-specific”
	styles which will be removed from here and placed
	within the /other/documentation.css file instead.

	The goal is for a developer to be able to place 
	this Q.css file into their own web app with little
	to no interference with their app. All variables
	and styles here will ultimately be prefaced with
	a capital Q, eg. --C-color-base, or .C-text-input
	and so on.


*/




svg, :root {



	    /**************/
	   /*            */
	  /*   Colors   */
	 /*            */
	/**************/


	/*  Base color (blue)  */

	--C-color-base-hue:       210;
	--C-color-base-saturation: 85%;
	--C-color-base-lightness:  40%;


	/*  Red  */

	--C-color-red-hue: calc( var( --C-color-base-hue ) + 180 - 30 );
	--C-color-red-saturation: 85%;
	--C-color-red-lightness:  45%;
	--C-color-red: hsl(

		var( --C-color-red-hue ),
		var( --C-color-red-saturation ),
		var( --C-color-red-lightness )
	);


	/*  Orange  */
	
	--C-color-orange-hue: calc( var( --C-color-base-hue ) + 180 - 15 );
	--C-color-orange-saturation: 85%;
	--C-color-orange-lightness:  50%;
	--C-color-orange: hsl(

		var( --C-color-orange-hue ),
		var( --C-color-orange-saturation ),
		var( --C-color-orange-lightness )
	);


	/*  Yellow  */

	--C-color-yellow-hue: calc( var( --C-color-base-hue ) + 180 + 15 );
	--C-color-yellow-saturation: 90%;
	--C-color-yellow-lightness:  50%;
	--C-color-yellow: hsl(

		var( --C-color-yellow-hue ),
		var( --C-color-yellow-saturation ),
		var( --C-color-yellow-lightness )
	);
	

	/*  Green  */

	--C-color-green-hue: calc( var( --C-color-base-hue ) + 180 + 60 );
	--C-color-green-saturation: 80%;
	--C-color-green-lightness:  35%;
	--C-color-green: hsl(

		var( --C-color-green-hue ),
		var( --C-color-green-saturation ),
		var( --C-color-green-lightness )
	);


	/*  Blue  */

	--C-color-blue-hue:        var( --C-color-base-hue );
	--C-color-blue-saturation: var( --C-color-base-saturation );
	--C-color-blue-lightness:  var( --C-color-base-lightness );
	--C-color-blue: hsl(

		var( --C-color-blue-hue ),
		var( --C-color-blue-saturation ),
		var( --C-color-blue-lightness )
	);


	/*  Grayscale  */

	--C-color-white:     #FFFFFF;
	--C-color-chalk:     #F9F9F9;
	--C-color-newsprint: #F3F3F3;
	--C-color-titanium:  #CCCCCC;
	--C-color-slate:     #777777;
	--C-color-charcoal:  #333333;
	--C-color-black:     #000000;
	

	/*  Background  */

	--C-color-background-hue: var( --C-color-base-hue );
	--C-color-background-saturation: 15%;
	--C-color-background-lightness:  98%;	
	--C-color-background: hsl(

		var( --C-color-background-hue ),
		var( --C-color-background-saturation ),
		var( --C-color-background-lightness )
	);
	/*--C-color-background: white;*/


	/*  Misc  */

	--C-text-color: hsl(

		var( --C-color-base-hue ),
		 5%,
		35%
	);
	--C-text-code-comment-color: rgba( 0, 0, 0, 0.4 );
	--C-text-code-output-color:  rgba( 0, 0, 0, 1 );

	--C-selection-color: var( --C-color-black );
	--C-selection-background-color: var( --C-color-yellow );

	--C-hyperlink-internal-color: var( --C-color-blue );
	--C-hyperlink-external-color: var( --C-text-color );
	
	--C-background-callout-color: var( --C-color-white );

	--C-svg-fill-color: var( --C-text-color );




	/*  Fonts  */

	--C-font-family-serif:   'Source Serif Pro', 'Roboto Slab', 'Georgia', serif;
	--C-font-family-sans:    'SF Pro Text', system-ui, -apple-system, 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;
	--C-font-family-mono:    'Roboto Mono', 'Source Code Pro', 'Menlo', 'Courier New', monospace;
	--C-font-family-symbols: 'Georgia', serif;
}




    /*******************/
   /*                 */
  /*   Interactive   */
 /*                 */
/*******************/


.C-input, 
.C-circuit-text-input {

	margin: 1.5rem 0 0 0 !important;
	outline: none !important;
	border:  none !important;
	border-radius: 1.2rem !important;
	box-shadow: 
		 0.2rem  0.2rem 0.2rem rgba( 0, 0, 0, 0.15 ) inset,
		-0.2rem -0.2rem 0.2rem rgba( 255, 255, 255, 1 ) inset;

	background: linear-gradient( 

		0.375turn,
		rgba( 255, 255, 255, 1.0 ),
		rgba( 255, 255, 255, 0.2 )
	) !important;
}
.C-input, 
.C-circuit-text-input {
	
	padding: 1.5rem !important;
	color: #555 !important;
	font-size: 0.9rem !important;
	line-height: 1.2rem !important;
}



.C-circuit-text-input {

	/*min-width:  18rem;*/
	width: 100%;
	min-height: 8rem;
	/*margin:  1rem 0 2rem 0;*/
	margin:  1rem 0 0 0;
	border: 1px solid var( --C-color-blue );
	border-radius: 0.5rem;	
	background-color: var( --C-color-chalk );
	padding: 1rem 0 0 2rem;
	color: var( --C-color-blue );
	font-family: var( --C-font-family-mono );
	font-size:   1.0rem;
	line-height: 1.2rem;
	white-space: pre;
	word-wrap: normal;/*  OMFG, iOS you make me sad.  */
}






.C-button {

	position: relative;
	text-align: right;
	margin: 0.5rem 1rem 0 0;
	border-radius: 3rem;
	box-shadow: 
		-0.1rem -0.1rem 0 rgba( 255, 255, 255, 1 ),
		 0.1rem  0.1rem 0.2rem rgba( 0, 0, 0, 0.3 );
	height: 3rem;
	background: 
		var( --C-color-blue )
		linear-gradient(

			0.4turn,
			rgba( 255, 255, 255, 0.2 ),
			rgba( 0, 0, 0, 0.08 )
		);
	padding: 0.8rem 1.8rem;
	color: var( --C-color-white );
	font-family: var( --C-font-family-sans );
	font-size:   1rem;
	line-height: 1rem;	
	font-weight: 500;
	letter-spacing: 0;
	text-shadow: -1px -1px 0 rgba( 0, 0, 0, 0.1 );
	cursor: pointer;
}
.C-button:hover {

	background: 
		hsl(

			var( --C-color-blue-hue ),
			var( --C-color-blue-saturation ),
			calc( var( --C-color-blue-lightness ) * 1.2 )
		)
		linear-gradient(

			0.4turn,
			rgba( 255, 255, 255, 0.2 ),
			rgba( 0, 0, 0, 0.08 )
		);
}
.C-button:focus {

	margin-top: 0.7rem;
	margin-bottom: -0.2rem;
	margin-right: 0.9rem;
	outline: none;
	box-shadow: 
		-0.1rem -0.1rem 0 rgba( 255, 255, 255, 1 ) inset,
		 0.1rem  0.1rem 0.2rem rgba( 0, 0, 0, 0.3 ) inset;
	background: 
		var( --C-color-blue )
		linear-gradient(

			0.4turn,
			rgba( 0, 0, 0, 0.08 ),
			rgba( 255, 255, 255, 0.2 )
		);
}
.C-button[disabled] {

	box-shadow: 
		-0.1rem -0.1rem 0 rgba( 255, 255, 255, 1 ),
		 0.1rem  0.1rem 0.2rem rgba( 0, 0, 0, 0.3 );
	background: 
		var( --C-color-background )
		linear-gradient(

			0.45turn,
			rgba( 255, 255, 255, 0.1 ),
			rgba( 0, 0, 0, 0.05 )
		);
	color: rgba( 0, 0, 0, 0.3 );
	text-shadow: 1px  1px 0 rgba( 255, 255, 255, 1 );
	cursor: default;
}






/*

	The below still need to be prefaced with “C-”
	and for the HTML pages to be updated accordingly.

*/






    /*************/
   /*           */
  /*   Maths   */
 /*           */
/*************/


.maths {

	max-width: 100%;
	overflow-x: auto;
	font-family: var( --C-font-family-sans );
	/*letter-spacing: 0.03em;*/
	word-spacing: 0.2em;
}
dd .maths {

	margin-top:  0;
	margin-left: 0;
}




.symbol {

	font-size: 1.1em;
	padding: 0 0.1em;
	font-family: var( --C-font-family-symbols );
	font-style: italic;
	font-weight: 900;
	letter-spacing: 0.05em;
}




.division {

	display: inline-block;
	vertical-align: middle;
	margin:  10px;
}
.division td {

	padding: 5px;
}
.dividend {

	border-bottom: 1px solid #CCC;
	text-align: center;
}
.divisor {

	text-align: center;
}




.matrix {
	
	display: inline-block;
	vertical-align: middle;
	position: relative;
	align: middle;
	margin:  1em 0.5em;
	padding: 1em;
	/*font-family: var( --C-font-family-mono );*/
	font-weight: 300;
	line-height: 1em;
	/*text-align: right;*/
	text-align: center;
}
.matrix td {

	padding: 0.25em 0.5em;
}
.matrix-bracket-left, .matrix-bracket-right {

	position: absolute;
	top:      0;
	width:    0.5em;
	height: 100%;
	border:   1px solid #CCC;
}
.matrix-bracket-left {

	left: 0;
	border-right: none;
}
.matrix-bracket-right {

	right: 0;
	border-left: none;
}
/*.matrix.qubit tr:first-child td {

	color: #BBB;
}*/



.C-state-vector,
.complex-vector {

	font-family: var( --C-font-family-mono );
}
.C-state-vector.bra::before,
.complex-vector.bra::before {

	content: '⟨';
	color: #BBB;
}
.C-state-vector.bra::after,
.complex-vector.bra::after {

	content: '|';
	color: #BBB;
}
.C-state-vector.ket::before,
.complex-vector.ket::before {

	content: '|';
	color: #BBB;
}
.C-state-vector.ket::after,
.complex-vector.ket::after {

	content: '⟩';
	color: #BBB;
}
.C-state-vector.bra + .C-state-vector.ket::before,
.complex-vector.bra + .complex-vector.ket::before {

	content: '';
}







/*

	Copyright © 2019–2020, Stewart Smith. See LICENSE for details.

*/
@charset "utf-8";









/*

	Z indices:

	Clipboard   =100
	Selected op   10
	Operation      0
	Shadow       -10
	Background   -20





	Circuit	

	   Menu     Moments
	  ╭───────┬───┬───┬───┬───╮
	  │ ≡   ↘ │ 1 │ 2 │ 3 │ + │ Add moment
	  ├───┬───┼───┼───┼───┼───╯
	R │ 0 │|0⟩│ H │ C0│ X │ -
	e ├───┼───┼───┼───┼───┤
	g │ 1 │|0⟩│ I │ C1│ X │ -
	s ├───┼───┴───┴───┴───┘
      │ + │ -   -   -   -
	  ╰───╯
	    Add
	    register


	Circuit Palette

	╭───────────────────┬───╮
	│ H X Y Z S T π M … │ @ │
	╰───────────────────┴───╯


	Circuit clipboard

	 ┌───────────────┐
	▟│ ┌───┬───────┐ │
	█│ │ H │ X#0.0 │ │
	█│ ├───┼───────┤ │
	█│ │ I │ X#0.1 │ │
	█│ └───┴───────┘ │
	█└───────────────┘
	███████████████▛



    ◢◣
  ◢■■■■◣
◢■■■■■■■■◣
◥■■■■■■■■◤
  ◥■■■■◤
    ◥◤


    ◢■■■■■■◤
  ◢◤    ◢◤
◢■■■■■■◤


 ───────────
  ╲ ╱  ╱  ╱
   ╳  ╱  ╱
  ╱ ╲╱  ╱
 ───────


  ─────⦢
 ╱    ╱
⦣─────


*/






.C-circuit,
.C-circuit-palette {

	position: relative;
	width: 100%;
}

.C-circuit-palette {

	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none;
	line-height: 0;
}

.C-circuit-palette>div {

	display: inline-block;
	position: relative;
	width: 4rem;
	height: 4rem;
}


.C-circuit {

	margin: 1rem 0 2rem 0;
	/*border-top: 2px solid hsl( 0, 0%, 50% );*/
}

.C-circuit-board-foreground {

	line-height: 3.85rem;
	width: auto;
}






/***************/
/*             */
/*   Toolbar   */
/*             */
/***************/


.C-circuit-toolbar {

	display: block;
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none;
	margin-bottom: 0.5rem;

	box-sizing: border-box;
	display: grid;
	grid-auto-columns: 3.6rem;
	grid-auto-rows: 3.0rem;
	grid-auto-flow: column;

}

.C-circuit-button {

	position: relative;
	display: inline-block;
	/*margin: 0 0.5rem 0.5rem 0;*/
	width: 3.6rem;
	height: 3rem;
	/*	box-shadow: 
		-0.1rem -0.1rem 0 rgba( 255, 255, 255, 0.8 ),
		 0.1rem  0.1rem 0.1rem rgba( 0, 0, 0, 0.35 );*/

	border-top: 1px solid hsl(var(--C-color-background-hue),
			var(--C-color-background-saturation),
			100%);
	border-right: 1px solid hsl(var(--C-color-background-hue),
			var(--C-color-background-saturation),
			90%);
	border-bottom: 1px solid hsl(var(--C-color-background-hue),
			var(--C-color-background-saturation),
			85%);
	border-left: 1px solid hsl(var(--C-color-background-hue),
			var(--C-color-background-saturation),
			97%);
	background: var(--C-color-background);
	/*	background: 
		var( --C-color-background )
		linear-gradient(

			0.4turn,
			
			rgba( 0, 0, 0, 0.02 ),
			rgba( 255, 255, 255, 0.1 )
		);*/
	color: hsl(var(--C-color-background-hue),
			var(--C-color-background-saturation),
			30%);
	text-shadow: 1px 1px 0 rgba(255, 255, 255, 1);
	/*border-radius: 0.5rem;*/
	/*border-radius: 100%;*/
	line-height: 2.9rem;
	text-align: center;
	cursor: pointer;
	overflow: hidden;
	font-weight: 900;
}

.C-circuit-toolbar .C-circuit-button:first-child {

	border-top-left-radius: 0.5rem;
	border-bottom-left-radius: 0.5rem;
}

.C-circuit-toolbar .C-circuit-button:last-child {

	border-top-right-radius: 0.5rem;
	border-bottom-right-radius: 0.5rem;
}

.C-circuit-locked .C-circuit-button,
.C-circuit-button[C-disabled] {

	color: hsl(var(--C-color-background-hue),
			var(--C-color-background-saturation),
			85%);
	cursor: not-allowed;
}

.C-circuit-locked .C-circuit-toggle-lock {

	color: inherit;
	cursor: pointer;
}




.C-circuit-board-container {

	position: relative;
	margin: 0 0 2rem 0;
	margin: 0;
	width: 100%;
	max-height: 60vh;
	overflow: scroll;
}

.C-circuit-board {

	position: relative;
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none;
}

/*.C-circuit-palette,*/
.C-circuit-board-foreground,
.C-circuit-board-background,
.C-circuit-clipboard {

	box-sizing: border-box;
	display: grid;
	grid-auto-rows: 4rem;
	grid-auto-columns: 4rem;
	grid-auto-flow: column;
}

/*.C-circuit-palette,*/
.C-circuit-board-foreground,
.C-circuit-board-background {

	position: relative;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
}

.C-circuit-clipboard {

	position: fixed;
	top: 0;
	left: 0;
	margin: 0;
	z-index: 100;
	min-width: 4rem;
	min-height: 4rem;
	transform: scale(1.05);
	pointer-events: none;
	/* Let events pass through to elements below */
}

.C-circuit-clipboard,
.C-circuit-clipboard>div {

	cursor: grabbing;
}

.C-circuit-clipboard-danger .C-circuit-operation {

	background-color: var(--C-color-yellow);
}

@keyframes C-circuit-beam-flow {
	from {
		background-position: 200% 0;
	}

	to {
		background-position: 0% 0;
	}
}

.C-circuit-wire-animated {
	position: relative;
}

.C-circuit-wire-animated::after {
	content: "";
	position: absolute;
	top: -1px;
	left: 0;
	width: 100%;
	height: 3px;

	/* Two beam pulses in a non-repeating gradient */
	background: linear-gradient(90deg,
			transparent 0%,
			transparent 15%,
			hsl(120, 100%, 50%) 20%,
			transparent 25%,
			transparent 55%,
			hsl(120, 100%, 50%) 60%,
			transparent 65%,
			transparent 100%);
	background-size: 150% 100%;
	background-repeat: no-repeat;

	/* Clip to the active region using CSS variable */
	clip-path: var(--wire-clip, inset(0 0 0 100%));

	/* Synchronized animation - all wires animate together */
	animation: C-circuit-beam-flow 2.5s linear infinite;
	animation-delay: 0s;

	z-index: 2;
	pointer-events: none;
	opacity: 0.85;
	filter: blur(0.8px) drop-shadow(0 0 1.5px hsl(120, 100%, 50%));
}

/* Signal mode variant - brownish/amber color */
.C-circuit-wire-signal::after {
	background-image: linear-gradient(90deg,
			transparent 0%,
			transparent 15%,
			hsl(30, 100%, 50%) 20%,
			transparent 25%,
			transparent 55%,
			hsl(30, 100%, 50%) 60%,
			transparent 65%,
			transparent 100%);
	filter: blur(0.8px) drop-shadow(0 0 1.5px hsl(30, 100%, 50%));
}

.C-circuit-clipboard-destroy {

	animation-name: C-circuit-clipboard-poof;
	animation-fill-mode: forwards;
	animation-duration: 0.3s;
	animation-iteration-count: 1;
}

@keyframes C-circuit-clipboard-poof {

	100% {

		transform: scale(1.5);
		opacity: 0;
	}
}

.C-circuit-board-background {

	/*

	Clipboard:  100
	Operation:    0
	Shadow:     -10
	Background: -20

	*/
	position: absolute;
	z-index: -20;
	color: rgba(0, 0, 0, 0.2);
}

.C-circuit-board-background>div {

	/*	transition: 
		background-color 0.2s,
		color 0.2s;*/
}

.C-circuit-board-background .C-circuit-cell-highlighted {

	background-color: hsl(var(--C-color-background-hue),
			var(--C-color-background-saturation),
			95%);
	/*transition: none;*/
}




.C-circuit-register-wire {

	position: absolute;
	top: calc(50% - 0.5px);
	width: 100%;
	height: 1px;
	background-color: hsl(var(--C-color-background-hue),
			var(--C-color-background-saturation),
			50%);
}

.C-circuit-selectall {

	z-index: 3;
	margin: 0;
	top: 0;
	left: 0;
	grid-column-start: 1;
	grid-column-end: 3;
	grid-row: 1;
	cursor: se-resize;
	border-bottom: 1px solid hsl(var(--C-color-background-hue),
			var(--C-color-background-saturation),
			95%);
	border-right: 1px solid hsl(var(--C-color-background-hue),
			var(--C-color-background-saturation),
			95%);
}




.C-circuit-palette>div,
.C-circuit-clipboard>div,
.C-circuit-board-foreground>div {

	text-align: center;
}






/***************/
/*             */
/*   Headers   */
/*             */
/***************/


.C-circuit-header {

	position: sticky;
	z-index: 2;
	margin: 0;
	/*background-color: var( --C-color-background );*/
	background-color: white;
	color: hsl(var(--C-color-background-hue),
			var(--C-color-background-saturation),
			75%);
	font-family: var(--C-font-family-mono);
}

.C-circuit-input.C-circuit-cell-highlighted,
.C-circuit-header.C-circuit-cell-highlighted {

	background-color: hsl(var(--C-color-background-hue),
			var(--C-color-background-saturation),
			95%);
	color: black;
}

.C-circuit-selectall {

	z-index: 3;
	margin: 0;
	top: 0;
	/*left: 4rem;*/
	/*grid-column: 2;*/
	left: 0;
	grid-column-start: 1;
	grid-column-end: 3;
	grid-row: 1;
	cursor: se-resize;
}

.C-circuit-moment-label,
.C-circuit-moment-add {

	grid-row: 1;
	top: 0;
	cursor: s-resize;
}

.C-circuit-register-label,
.C-circuit-register-add {

	grid-column: 2;
	left: 4rem;
	cursor: e-resize;
}

.C-circuit-moment-add,
.C-circuit-register-add {

	cursor: pointer;
}

.C-circuit-moment-add,
.C-circuit-register-add {

	display: none;
}

.C-circuit-selectall,
.C-circuit-moment-label,
.C-circuit-moment-add {

	border-bottom: 1px solid hsl(var(--C-color-background-hue),
			var(--C-color-background-saturation),
			95%);
}

.C-circuit-selectall,
.C-circuit-register-label,
.C-circuit-register-add {

	border-right: 1px solid hsl(var(--C-color-background-hue),
			var(--C-color-background-saturation),
			95%);
}

.C-circuit-input {

	position: sticky;
	z-index: 2;
	grid-column: 1;
	left: 0;
	/*background-color: var( --C-color-background );*/
	background-color: white;
	font-size: 1.5rem;
	font-weight: 900;
	font-family: var(--C-font-family-mono);
}






.C-circuit-operation-link-container {

	--C-link-stroke: 3px;
	--C-link-radius: 100%;

	display: block;
	position: relative;
	left: calc(50% - (var(--C-link-stroke) / 2));
	width: 50%;
	height: 100%;
	overflow: hidden;
}

.C-circuit-operation-link-container.C-circuit-cell-highlighted {

	background-color: transparent;
}

.C-circuit-operation-link {

	display: block;
	position: absolute;
	width: calc(var(--C-link-stroke) * 2);
	height: calc(100% - 4rem + var(--C-link-stroke));
	/*border: var( --C-link-stroke ) solid hsl( 0, 0%, 50% );*/
	border: var(--C-link-stroke) solid hsl(var(--C-color-background-hue),
			10%,
			30%);

	/*border: var( --C-link-stroke ) solid var( --C-color-orange );*/

	transform: translate(-50%, calc(2rem - (var(--C-link-stroke) / 2)));
	transform-origin: center;
}

.C-circuit-operation-link.C-circuit-operation-link-curved {

	width: calc(var(--C-link-radius) - var(--C-link-stroke));
	width: 200%;
	border-radius: 100%;
}






/******************/
/*                */
/*   Operations   */
/*                */
/******************/


.C-circuit-operation {

	position: relative;
	/*--C-operation-color-hue: var( --C-color-green-hue );
	--C-operation-color-main: var( --C-color-green );*/

	--C-operation-color-hue: var(--C-color-blue-hue);
	--C-operation-color-main: hsl(var(--C-operation-color-hue),
			10%,
			35%);

	--C-operation-color-light: hsl(var(--C-operation-color-hue),
			10%,
			50%);
	--C-operation-color-dark: hsl(var(--C-operation-color-hue),
			10%,
			25%);
	color: white;
	text-shadow: -0.05rem -0.05rem 0 rgba(0, 0, 0, 0.1);
	font-size: 1.5rem;
	line-height: 2.9rem;
	font-weight: 900;
	cursor: grab;
}

.C-circuit-locked .C-circuit-operation {

	cursor: not-allowed;
}

.C-circuit-operation-tile {

	position: absolute;
	top: 0.5rem;
	left: 0.5rem;
	right: 0.5rem;
	bottom: 0.5rem;

	/*margin:  0.5rem;*/
	/*padding: 0.5rem;*/

	/*box-shadow: 0.1rem  0.1rem 0.2rem rgba( 0, 0, 0, 0.2 );*/
	border-radius: 0.2rem;
	/*
	border-top:    0.1rem solid var( --C-operation-color-light );
	border-left:   0.1rem solid var( --C-operation-color-light );
	border-right:  0.1rem solid var( --C-operation-color-dark );
	border-bottom: 0.1rem solid var( --C-operation-color-dark );
	*/
	background:
		var(--C-operation-color-main)
		/*linear-gradient(

			0.45turn,
			rgba( 255, 255, 255, 0.1 ),
			rgba( 0, 0, 0, 0.05 )
		)*/
	;
}

.C-circuit-palette .C-circuit-operation:hover {

	/*background-color: rgba( 255, 255, 255, 0.6 );*/
	background-color: white;
}

.C-circuit-palette .C-circuit-operation-tile {

	--C-before-rotation: 12deg;
	--C-before-x: 1px;
	--C-before-y: -2px;

	--C-after-rotation: -7deg;
	--C-after-x: -2px;
	--C-after-y: 3px;

	box-shadow: 0.2rem 0.2rem 0.2rem rgba(0, 0, 0, 0.2);
}

.C-circuit-palette .C-circuit-operation-tile:before,
.C-circuit-palette .C-circuit-operation-tile:after {

	content: "";
	position: absolute;
	top: 0;
	right: 0;
	bottom: 0;
	left: 0;
	border-radius: 0.2rem;
	/*background-color: hsl( 0, 0%, 60% );*/

	background-color: var(--C-operation-color-dark);
	transform:
		translate(var(--C-before-x), var(--C-before-y)) rotate(var(--C-before-rotation));
	z-index: -10;
	/*z-index: 10;*/
	display: block;
	box-shadow: 0.2rem 0.2rem 0.2rem rgba(0, 0, 0, 0.2);
}

.C-circuit-palette .C-circuit-operation-tile:after {

	transform:
		translate(var(--C-after-x), var(--C-after-y)) rotate(var(--C-after-rotation));
	box-shadow: 0.2rem 0.2rem 0.2rem rgba(0, 0, 0, 0.2);
}

.C-circuit-operation:hover .C-circuit-operation-tile {

	color: white;
}




.C-circuit-operation-hadamard .C-circuit-operation-tile {

	/*--C-operation-color-hue:  var( --C-color-red-hue );*/
	/*--C-operation-color-main: var( --C-color-red );*/

	/*--C-operation-color-hue:  0;
	--C-operation-color-main: hsl( 0, 0%, 10% );*/


	/*	background: 
		linear-gradient(

			-33deg,
			var( --C-color-blue ) 20%,
			#6f3c69 50%,
			var( --C-color-red  ) 80%
		);*/
}

.C-circuit-operation-identity .C-circuit-operation-tile,
.C-circuit-operation-control .C-circuit-operation-tile,
.C-circuit-operation-target .C-circuit-operation-tile {

	/*--C-operation-color-hue:  var( --C-color-orange-hue );*/
	/*--C-operation-color-main: var( --C-color-orange );*/
	border-radius: 100%;
}

.C-circuit-operation-identity .C-circuit-operation-tile,
.C-circuit-operation-control .C-circuit-operation-tile {

	top: calc(50% - 0.7rem);
	left: calc(50% - 0.7rem);
	width: 1.4rem;
	height: 1.4rem;
	overflow: hidden;
	/*	--C-operation-color-hue:  0;
	--C-operation-color-main: hsl( 0, 0%, 10% );*/
}

.C-circuit-operation-pauli-x,
.C-circuit-operation-pauli-y,
.C-circuit-operation-pauli-z {

	/*--C-operation-color-hue:  var( --C-color-red-hue );*/
	/*--C-operation-color-main: var( --C-color-red );*/

	/*	--C-operation-color-hue:  0;
	--C-operation-color-main: hsl( 0, 0%, 30% );*/
}

.C-circuit-operation-swap .C-circuit-operation-tile {

	top: calc(50% - 0.55rem);
	left: calc(50% - 0.55rem);
	width: 1.2rem;
	height: 1.2rem;
	border-radius: 0;
	transform-origin: center;
	transform: rotate(45deg);
	font-size: 0;
}






/********************/
/*                  */
/*   Other states   */
/*                  */
/********************/


.C-circuit-palette>div:hover {

	outline: 2px solid var(--C-hyperlink-internal-color);
	outline-offset: -2px;
}

.C-circuit-palette>div:hover .C-circuit-operation-tile {

	box-shadow: none;
}








.C-circuit-clipboard>div,
.C-circuit-cell-selected {

	background-color: white;
}

.C-circuit-clipboard>div:before,
.C-circuit-cell-selected:before {

	content: "";
	position: absolute;
	top: 0;
	right: 0;
	bottom: 0;
	left: 0;
	display: block;
	z-index: -10;
	box-shadow:
		0 0 1rem rgba(0, 0, 0, 0.2),
		0.4rem 0.4rem 0.2rem rgba(0, 0, 0, 0.2);
	outline: 1px solid hsl(var(--C-color-background-hue),
			var(--C-color-background-saturation),
			50%);
	/*outline-offset: -1px;*/
}




.C-circuit-clipboard>div {

	background-color: white;
}

.C-circuit-clipboard>div:before {

	/*  

	This was very helpful!
	https://blog.dudak.me/2014/css-shadows-under-adjacent-elements/

	*/
	content: "";
	position: absolute;
	top: 0;
	right: 0;
	bottom: 0;
	left: 0;
	z-index: -10;
	display: block;
	box-shadow: 0.4rem 0.4rem 0.3rem rgba(0, 0, 0, 0.2);
}





/***************/
/*             */
/*   Buttons   */
/*             */
/***************/


.C-circuit-locked .C-circuit-toggle-lock,
.C-circuit-locked .C-circuit-toggle-lock:hover {

	background-color: var(--C-color-red);
}

.C-circuit-toggle-lock {

	z-index: 3;
	left: 0;
	top: 0;
	grid-column: 1;
	grid-row: 1;
	cursor: pointer;
	font-size: 1.1rem;
	text-shadow: none;
	font-weight: normal;
}

.C-circuit-button-undo,
.C-circuit-button-redo {

	font-size: 1.2rem;
	line-height: 2.6rem;
	font-weight: normal;
}



.C-circuit p {

	padding: 1rem;
	color: hsl(var(--C-color-background-hue),
			var(--C-color-background-saturation),
			66%);
}

.C-circuit-button-active {
	color: black;
	font-weight: bold;
	background-color: hsl(var(--C-color-background-hue), var(--C-color-background-saturation), 85%);
	border-radius: 4px;
}



.C-circuit-results {
	display: block;
	margin-top: 1rem;
	padding: 1rem;
	background-color: hsl(var(--C-color-background-hue), var(--C-color-background-saturation), 95%);
	border-radius: 4px;
	font-family: monospace;
	white-space: pre-wrap;
	border: 1px solid hsl(var(--C-color-background-hue), var(--C-color-background-saturation), 85%);
}/*

	Copyright © 2025, Classical Circuit Simulator (C.js)
	Animated Beam Styles

*/
@charset "utf-8";




/* Animated Beam Container */

.C-animated-beam {

	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	pointer-events: none;
	z-index: 5;
	overflow: visible;
}


/* Beam Path Styling */

.C-animated-beam path {

	vector-effect: non-scaling-stroke;
}


/* Wire Connectors */

.C-wire-connector {

	position: absolute;
	width: 10px;
	height: 10px;
	border-radius: 50%;
	background: var(--C-color-white);
	border: 2px solid var(--C-color-green);
	z-index: 10;
	box-shadow: 0 0.1rem 0.3rem rgba(0, 0, 0, 0.2);
	transition: all 0.3s ease;
}

.C-wire-connector--input {

	background: var(--C-color-chalk);
}

.C-wire-connector--output {

	background: var(--C-color-green);
	border-color: var(--C-color-green);
}

.C-wire-connector--active {

	background: var(--C-color-green);
	box-shadow: 0 0 0.8rem var(--C-color-green);
	transform: scale(1.2);
}

.C-wire-connector[data-value="0"] {

	background: var(--C-color-titanium);
	border-color: var(--C-color-titanium);
}

.C-wire-connector[data-value="1"] {

	background: var(--C-color-green);
	border-color: var(--C-color-green);
}


/* Intermediate Wires */

.C-circuit-intermediate-wire {

	position: absolute;
	left: 0;
	right: 0;
	height: 1px;
	background: var(--C-color-titanium);
	opacity: 0.4;
	z-index: 0;
	pointer-events: none;
}


/* Multi-Wire Gate Layout */

.C-circuit-operation--multi-wire {

	position: relative;
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	min-height: 8rem;
	height: calc(var(--wire-span, 2) * 4rem);
	border-left: 3px solid;
	border-right: 3px solid;
	border-color: inherit;
	background: inherit;
}

.C-circuit-operation--multi-wire::before,
.C-circuit-operation--multi-wire::after {
	content: '';
	position: absolute;
	left: 0;
	right: 0;
	height: 3px;
	background: currentColor;
}

.C-circuit-operation--multi-wire::before {
	top: 0;
}

.C-circuit-operation--multi-wire::after {
	bottom: 0;
}

.C-gate-inputs,
.C-gate-outputs {

	position: absolute;
	display: flex;
	flex-direction: column;
	gap: 0.5rem;
}

.C-gate-inputs {

	left: -15px;
	top: 50%;
	transform: translateY(-50%);
}

.C-gate-outputs {

	right: -15px;
	top: 50%;
	transform: translateY(-50%);
}

.C-gate-core {

	position: relative;
	z-index: 2;
}


/* Animation Pulse Effect for Gate Processing */

@keyframes gate-pulse {

	0%,
	100% {
		transform: scale(1);
		box-shadow: 0 0.2rem 0.4rem rgba(0, 0, 0, 0.2);
	}

	50% {
		transform: scale(1.05);
		box-shadow: 0 0.3rem 0.8rem rgba(0, 200, 0, 0.4);
	}
}

.C-circuit-operation--processing {

	animation: gate-pulse 0.6s ease-in-out;
}


/* Beam Animation */

@keyframes beam-flow {
	0% {
		stroke-dashoffset: 100;
	}

	100% {
		stroke-dashoffset: 0;
	}
}

.C-animated-beam path {

	stroke-dasharray: 10 5;
	animation: beam-flow 1s linear infinite;
}